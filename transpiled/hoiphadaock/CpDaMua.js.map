{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "application",
    "Standalone",
    "members",
    "createTable",
    "tableModel",
    "ui",
    "table",
    "model",
    "Simple",
    "setColumns",
    "image",
    "cpDaMua",
    "_read_file",
    "rowData",
    "index",
    "request",
    "io",
    "Xhr",
    "setAccept",
    "setParser",
    "addListener",
    "e",
    "req",
    "getTarget",
    "response",
    "getResponse",
    "key",
    "filter_data",
    "filter",
    "x",
    "NoneSymbol",
    "cp",
    "giaDaMua",
    "nguoiMua",
    "stock_name",
    "giaHienTai",
    "console",
    "log",
    "push",
    "setData",
    "send",
    "setColumnEditable",
    "Table",
    "setMetaColumnCounts",
    "selectionMode",
    "selection",
    "Model",
    "MULTIPLE_INTERVAL_SELECTION",
    "getSelectionModel",
    "setSelectionMode",
    "call_api",
    "file_name",
    "text",
    "JSON",
    "parse",
    "hoiphadaock",
    "CpDaMua"
  ],
  "sources": [
    "C:/Users/admin/PycharmProjects/hoiphadaock/source/class/hoiphadaock/CpDaMua.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\r\n\r\n   Copyright: 2022 undefined\r\n\r\n   License: MIT license\r\n\r\n   Authors: undefined\r\n\r\n************************************************************************ */\r\n\r\n/**\r\n * This is the main application class of \"hoiphadaock\"\r\n *\r\n * @asset(hoiphadaock/*)\r\n */\r\nqx.Class.define(\"hoiphadaock.CpDaMua\", {\r\n  extend: qx.application.Standalone,\r\n\r\n  members: {\r\n    createTable() {\r\n      // table model\r\n      var tableModel = new qx.ui.table.model.Simple();\r\n      tableModel.setColumns([\r\n        \"STT\",\r\n        \"Mã CK\",\r\n        \"Name\",\r\n        \"Ai Mua?\",\r\n        \"Giá mua\",\r\n        \"Lãi/Lỗ\",\r\n        \"Giá hiện tại\",\r\n        \"Giá min \\ntrong tuần\",\r\n        \"Giá max \\ntrong tuần\",\r\n        \"% Giá Max-Min\",\r\n        \"% Giá hiện tại\\nso với giá max\",\r\n        \"Min Time\",\r\n        \"Max Time\",\r\n        \"Giá trần\",\r\n        \"Giá sàn\",\r\n        \"Giá mở cửa\",\r\n        \"Có trong\\nInfina\",\r\n      ]);\r\n\r\n      var image = [\r\n        \"icon/16/actions/dialog-ok.png\",\r\n        \"icon/16/actions/dialog-cancel.png\",\r\n      ];\r\n\r\n      var cpDaMua = this._read_file();\r\n      var rowData = [];\r\n      var index = 1;\r\n      var request = new qx.io.request.Xhr(\r\n        \"https://s.cafef.vn/ajax/marketmap.ashx?stock=1&type=1&cate=\"\r\n      );\r\n      request.setAccept(\"application/json\");\r\n      request.setParser(\"json\");\r\n      request.addListener(\r\n        \"success\",\r\n        function (e) {\r\n          var req = e.getTarget();\r\n          var response = req.getResponse();\r\n          for (const key in cpDaMua) {\r\n            var filter_data = response.filter((x) => x.NoneSymbol === key)[0];\r\n            var cp = cpDaMua[key];\r\n            var giaDaMua = cp[\"bought\"];\r\n            var nguoiMua = cp[\"buyer\"];\r\n            var stock_name = filter_data[\"Name\"];\r\n            // Giá hiện tại\r\n            var giaHienTai = filter_data[\"Price\"] * 1000;\r\n\r\n            console.log(filter_data);\r\n\r\n            rowData.push([index++, key, stock_name, nguoiMua, giaDaMua, \"\", giaHienTai]);\r\n          }\r\n          tableModel.setData(rowData);\r\n        },\r\n        this\r\n      );\r\n      request.send();\r\n\r\n      tableModel.setColumnEditable(1, true);\r\n      tableModel.setColumnEditable(2, true);\r\n\r\n      // table\r\n      var table = new qx.ui.table.Table(tableModel);\r\n\r\n      table.setMetaColumnCounts([1, -1]);\r\n      var selectionMode =\r\n        qx.ui.table.selection.Model.MULTIPLE_INTERVAL_SELECTION;\r\n      table.getSelectionModel().setSelectionMode(selectionMode);\r\n\r\n      return table;\r\n    },\r\n    call_api() {\r\n      var request = new qx.io.request.Xhr(\r\n        \"https://s.cafef.vn/ajax/marketmap.ashx?stock=1&type=1&cate=\"\r\n      );\r\n      request.setAccept(\"application/json\");\r\n      request.setParser(\"json\");\r\n      request.addListener(\r\n        \"success\",\r\n        function (e) {\r\n          var req = e.getTarget();\r\n          var response = req.getResponse();\r\n        },\r\n        this\r\n      );\r\n      request.send();\r\n    },\r\n    _read_file() {\r\n      var file_name = \"data/da_mua.json\";\r\n      const text =\r\n        '{\"EIB\":{\"bought\":31400,\"buyer\":\"Tuyết-NT\"},\"HBC\":{\"bought\":21100,\"buyer\":\"Mỹ Mỹ\"},\"OCB\":{\"bought\":20350,\"buyer\":\"Mỹ Đạt\"},\"VHC\":{\"bought\":102500,\"buyer\":\"Đạt-NT\"},\"BCM\":{\"bought\":72300,\"buyer\":\"Tuyết-NT\"},\"LPB\":{\"bought\":13150,\"buyer\":\"Mỹ Mỹ\"},\"CTG\":{\"bought\":25250,\"buyer\":\"Đạt-NT\"},\"VSH\":{\"bought\":46100,\"buyer\":\"Đạt-NT\"},\"DPM\":{\"bought\":48900,\"buyer\":\"\"},\"VIB\":{\"bought\":20900,\"buyer\":\"Đạt-NT\"},\"VIP\":{\"bought\":6330,\"buyer\":\"Đạt-NT\"},\"AST\":{\"bought\":57900,\"buyer\":\"\"}}';\r\n      return JSON.parse(text);\r\n    },\r\n  },\r\n});\r\n"
  ],
  "mappings": "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"
}